C51 COMPILER V9.57.0.0   MAIN                                                              03/25/2018 22:06:55 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\Program Files\Keil_v5\C51\BIN\C51.EXE USER\main.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\Include) DEF
                    -INE(FOSC_160000) DEBUG OBJECTEXTEND PRINT(.\Listings\main.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          
   2          #include "N76E003.h"
   3          #include "SFR_Macro.h"
   4          #include "Function_define.h"
   5          #include "Common.h"
   6          #include "Delay.h"
   7          
   8          #include "display.h"
   9          #include "bsp_sensor.h"
  10          
  11          uint16_t secCnt = 0;
  12          
  13          extern bit time_sFlag;
  14          extern uint8_t timeCnt;
  15          extern uint8_t workMode;
  16          
  17          void sys_Init()
  18          {
  19   1              Set_All_GPIO_Quasi_Mode;
  20   1              bsp_Init();     
  21   1              display_Init(); 
  22   1      }
  23          
  24          void main()
  25          {
  26   1              sys_Init();
  27   1      //      DS3231_SetTime(10,06,20,22,3,18,4);
  28   1              SI7021_Measure();
  29   1              while(1)
  30   1              {       
  31   2                      if(time_sFlag)
  32   2                              photoresistor_ADC();
  33   2                      switch(workMode)
  34   2                      {
  35   3                              case DateMode:
  36   3                                      DS3231_GetDate();
  37   3                                      display_Date();
  38   3                              break;
  39   3                              case T_RHMode:
  40   3                                      SI7021_Measure();
  41   3                                      display_T_RH();
  42   3                              break;
  43   3                              case TimerUpMode1:
  44   3                                      display_TimerUpMode(TimerUpMode1);
  45   3                              break;
  46   3                              case TimerUpMode2:
  47   3                                      display_TimerUpMode(TimerUpMode2);
  48   3                              break;
  49   3                              case AlarmMode:
  50   3                                      
  51   3                              break;
  52   3                              default:
  53   3                                      DS3231_GetTime();
  54   3                                      display_Time();         
C51 COMPILER V9.57.0.0   MAIN                                                              03/25/2018 22:06:55 PAGE 2   

  55   3                                      key_ADC();              
*** WARNING C206 IN LINE 55 OF USER\main.c: 'key_ADC': missing function-prototype
  56   3                              break;
  57   3                      }
  58   2                      
  59   2              }
  60   1      }
  61          
  62          void Timer1_ISR (void) interrupt 3          //interrupt address is 0x001B
  63          { 
  64   1              static uint16_t i=0,j=0;
  65   1              i++;j++;
  66   1              if(j>666)
  67   1              {
  68   2                      secCnt++;
  69   2                      j = 0;
  70   2              }
  71   1              if(i>3333)
  72   1              {
  73   2                      time_sFlag = ~time_sFlag;       
  74   2                      i = 0;
  75   2                      timeCnt++;
  76   2              }
  77   1      }
  78          
  79          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    157    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      6    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
